@model int
@inject TakagiSugeno.Model.Services.InputsService InputService
@inject TakagiSugeno.Model.Services.OutputsService OutputsService
@{
    ViewBag.Title = "Przegląd systemu";
    //string title = "overview";
}

<div class="row">
    <div class="col-sm-8">
        <h2 class="header">
            @ViewBag.Title
        </h2>
    </div>
    <div class="col-sm-4">
        <div class="pull-right">
            <button class="btn btn-success" id="btnCalc" style="margin-top:20px;"><span class="glyphicon glyphicon-check"></span> Oblicz</button>
            <button class="btn btn-primary" id="" style="margin-top:20px;" disabled><span class="glyphicon glyphicon-save"></span> Zapisz do pliku</button>
            <button class="btn btn-danger" id="" style="margin-top:20px;" disabled data-toggle="modal" data-target="#cancelModal"><span class="glyphicon glyphicon-bullhorn"></span> Opublikuj</button>
        </div>

    </div>
</div>
<br />
<div>
    <div class="row">
        <div class="col-sm-4">
            <div class="panel panel-primary io-overview">
                <div class="panel-heading">
                    <button class="btn btn-success pull-right" id="addInput" onclick="addInput()"><span class="glyphicon glyphicon-plus"></span></button>
                    <h4>Wejścia</h4>                  
                </div>
                <div class="panel-body io-overview-body">
                    @{Html.RenderPartial("~/Views/Inputs/List.cshtml", InputService.GetSystemInputs(Model));}
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="panel panel-primary panel-rules" style="width:200px; margin-top: 180px; margin-left:25%;">               
                <div class="panel-body">
                    <button class="btn btn-primary center-block" id="addInput" onclick="addInput()" style="height:100%; width:100%; white-space:normal !important;"><span>Takagi Sugeno System (Reguły)</span></button>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="panel panel-primary io-overview pull-right">
                <div class="panel-heading">
                    <button class="btn btn-success pull-right" id="addOutput" onclick="addOutput()"><span class="glyphicon glyphicon-plus"></span></button>
                    <h4>Wyjścia</h4>
                </div>
                <div class="panel-body io-overview-body">
                    @{Html.RenderPartial("~/Views/Outputs/List.cshtml", OutputsService.GetSystemOutputs(Model));}
                </div>
            </div>
        </div>
    </div>
    
</div>
<script type="text/javascript">
    $(".panel-rules").click(function () {
        var id = $(".inputs-list").attr("data-id"); //TODO
        var url = "/Rules/SystemRules/?systemId=" + id;     
        window.location.href = url;
    });
    $("#btnCalc").click(function () {
        var id = $(".inputs-list").attr("data-id"); //TODO
        var url = "/OutputCalc/?systemId=" + id;
        window.location.href = url;
    });
</script>